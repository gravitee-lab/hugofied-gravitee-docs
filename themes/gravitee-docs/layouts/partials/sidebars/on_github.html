

<!--

Only thing missing to fully automate : How to define Parent / children relation between menus

* https://discourse.gohugo.io/t/how-are-children-menu-entries-detected/21484/7
* https://doc.huc.fr.eu.org/fr/web/hugo/hugo-menu-nav/
* https://stackoverflow.com/questions/54971150/how-can-i-add-a-menu-for-each-content-type-in-hugo

So now :
* Developer Guide and Tutorials  Menus are autmotically generated. Each match their content-type :
  * type: developer-guide
  * type: tutorials

Only problem :
* In the Developer Guide menu, the Developer Guide content entries are listed, and that's what I want
* In the Tutorials menu, the Delveloper Guide content entries are listed, and that's NOT what I want
* Well that's why I need the concept of Children and parent menus

"On Github"

[[menu.on_github]]
  identifier = "github_orchestrator"
  name = "The Orchestrator on Github"
  url = "/on_github/orchestrator/"
  weight = 90
[[menu.on_github]]
  identifier = "github_orbs"
  name = "The Gravitee Orbs on Github"
  url = "/on_github/circleci-orbs/"
  weight = 100
[[menu.on_github]]
  identifier = "github_dev_repos"
  name = "The Gravitee Orbs on Github"
  url = "/on_github/dev-repos/"
  weight = 100

 -->


{{ $currentPage := . }}
{{ $maVariableLocale := "un exemple de variable locale" }}
<!--
currentPage is like a variable locccccally defined in this hugo template;
So there is no { { end } } associated to it. It's just a local variable declaration
 -->

<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">On Github</li>
    <!-- TroisiÃ¨me essai  -->
    {{ range (sort $.Site.Menus.on_github  ".Weight" "asc") }}
    <li class="{{ if in  $currentPage.RelPermalink .URL }}active{{ end }}">
      <a href="{{ .URL }}">
        {{ .Pre }} {{ .Name }}
      </a>
      {{ $allMenus := $.Site.Menus }}

      {{ with (eq .Identifier "home") }}
      {{ end }}
      {{ with (eq .Identifier "github_orchestrator") }}
        <ul class="sub-menu">
          <!--
          <li><a href="#">sous menu en dur un</a></li>
          <li><a href="#">sous menu en dur deux</a></li>
          -->
          {{ range  (sort $allMenus.github_orchestrator ".Page.Params.menu_index" )  }}
          <li class="{{ if eq $currentPage.RelPermalink .Page.RelPermalink }}active{{ end }}">
            <a href="{{ .Page.RelPermalink }}">
              {{ .Pre }}{{ .Name }}
            </a>
          </li>
          {{ end }}
        </ul>
      {{ end }}
      {{ with (eq .Identifier "github_orbs") }}
        <ul class="sub-menu">
          <!--
          <li><a href="#">sous menu en dur un</a></li>
          <li><a href="#">sous menu en dur deux</a></li>
          -->
          {{ range  (sort $allMenus.github_orbs ".Page.Params.menu_index" )  }}
          <li class="{{ if eq $currentPage.RelPermalink .Page.RelPermalink }}active{{ end }}">
            <a href="{{ .Page.RelPermalink }}">
              {{ .Pre }}{{ .Name }}
            </a>
          </li>
          <!-- <li class="{{ if eq $currentPage.RelPermalink .Page.RelPermalink }}active{{ end }}">
            <a href="{{ .Page.RelPermalink }}">
              {{ .Pre }}{{ .Name }} CELUI LA WITH menu_index [{{ .Page.Params.menu_index }}]
            </a>
          </li> -->
          {{ end }}
        </ul>
      {{ end }}
      {{ with (eq .Identifier "github_dev_repos") }}
        <ul class="sub-menu">
          <!--
          <li><a href="#">sous menu en dur un</a></li>
          <li><a href="#">sous menu en dur deux</a></li>
          -->
          {{ range  (sort $allMenus.github_dev_repos ".Page.Params.menu_index" )  }}
          <li class="{{ if eq $currentPage.RelPermalink .Page.RelPermalink }}active{{ end }}">
            <a href="{{ .Page.RelPermalink }}">
              {{ .Pre }}{{ .Name }}
            </a>
          </li>
          {{ end }}
        </ul>
      {{ end }}
    </li>

    {{ end }}



</ul>
